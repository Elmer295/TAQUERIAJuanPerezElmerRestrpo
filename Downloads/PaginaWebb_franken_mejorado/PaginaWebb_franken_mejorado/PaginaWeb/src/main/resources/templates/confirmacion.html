<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>‚úÖ Confirmaci√≥n de Pedido</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/confirmacion.css" rel="stylesheet">
</head>
<body>

<div class="container confirm-container">
    <h1 class="text-center">‚úÖ Pedido Confirmado</h1>

    <div th:if="${mensaje}" class="alert alert-success text-center" th:text="${mensaje}"></div>

    <!-- Detalle del carrito -->
    <div th:if="${carrito != null and #lists.size(carrito) > 0}">
        <table class="table table-hover align-middle">
            <thead class="table-warning text-center">
                <tr>
                    <th>Imagen</th>
                    <th>Nombre</th>
                    <th>Tama√±o</th>
                    <th>Cantidad</th>
                    <th>Precio Unitario</th>
                    <th>Subtotal</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="item : ${carrito}" class="text-center">
                    <td><img th:src="@{${item.imagen}}" class="item-img" th:alt="${item.nombre}"></td>
                    <td th:text="${item.nombre}"></td>
                    <td th:text="${item.tamano}"></td>
                    <td th:text="${item.cantidad}"></td>
                    <td th:text="'$' + ${item.precio}"></td>
                    <td th:text="'$' + (${item.precio} * ${item.cantidad})"></td>
                </tr>
            </tbody>
        </table>

        <!-- Total -->
        <div class="d-flex justify-content-end mt-3">
            <p class="mb-0 total">Total a pagar: <span th:text="'$' + ${total}"></span></p>
        </div>

        <!-- Direcci√≥n -->
        <div class="direccion mt-3">
            <p>üìç Direcci√≥n de entrega: <span th:text="${direccion}"></span></p>
        </div>

        <!-- Bot√≥n regresar al men√∫ -->
        <div class="text-center mt-4">
            <a href="/menu" class="btn btn-primary">‚Üê Volver al men√∫</a>
        </div>
    </div>

    
    <div th:if="${carrito == null or #lists.size(carrito) == 0}" class="text-center">
        <p class="lead text-muted">No hay productos en el pedido üõí</p>
        <a href="/menu" class="btn btn-primary">Ir al men√∫</a>
    </div>
</div>

<th:block th:replace="fragments/footer :: footer"></th:block>

</body>
</html>